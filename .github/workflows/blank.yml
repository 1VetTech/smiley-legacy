# ğŸ§± The Chicago Illusion Stack (Blender-First, Unreal-Friendly)
# Purpose:
# - Organize modular Chicago assets
# - Validate scale + structure
# - Prep exports for Unreal Engine ingestion

name: ğŸ§± Chicago Illusion Stack

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      # 1ï¸âƒ£ Checkout repository
      - name: Checkout repo
        uses: actions/checkout@v4

      # 2ï¸âƒ£ Validate project structure
      - name: Validate Chicago district structure
        run: |
          echo "ğŸ” Checking city layout..."
          test -d Assets/Chicago || (echo "âŒ Missing Assets/Chicago" && exit 1)
          test -d Assets/Chicago/Downtown || echo "âš ï¸ Downtown folder missing"
          test -d Assets/Chicago/Industrial || echo "âš ï¸ Industrial folder missing"
          test -d Assets/Chicago/Residential || echo "âš ï¸ Residential folder missing"
          echo "âœ… Structure check complete"

      # 3ï¸âƒ£ Scale sanity reminder (Blender â†’ Unreal = meters)
      - name: Scale sanity check (documentation gate)
        run: |
          echo "ğŸ“ Reminder:"
          echo "- Blender Unit Scale = 1.0"
          echo "- Apply transforms (Ctrl+A)"
          echo "- Export FBX in meters for Unreal"

      # 4ï¸âƒ£ Placeholder for Blender CLI export (future-ready)
      - name: Blender export placeholder
        run: |
          echo "ğŸ§  Future step:"
          echo "blender -b source.blend -P export_fbx.py"
          echo "(Not executed yetâ€”kept for pipeline growth)"

      # 5ï¸âƒ£ Final status
      - name: Pipeline status
        run: echo "ğŸ™ï¸ Chicago Illusion Stack pipeline passed"
